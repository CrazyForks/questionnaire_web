# 问卷 DSL 规范

用于通过**纯文本方式**定义一份完整问卷结构，包括题目、题型、选项及基础规则。



### 一、关键语法说明

| 名称     | 格式                      | 说明                       |
| -------- | ------------------------- | -------------------------- |
| 题目标题 | 这是题目的标题            | 必填，题目展示的主文案     |
| 题目类型 | [单行文本]/[数字文本]/... | 必填，用于识别题目输入形式 |
| 题目设置 | [必填]/[选填]             | 选填，默认 `[选填]`        |
| 题目描述 | (这是题目描述)            | 选填，用于辅助说明或提示   |
| 选项     | \- xxx                    | 仅用于选择类               |



### 二、基础语法格式

```diff
题目标题[题目类型][题目设置](题目描述)
```

**说明**

- 方括号 `[]` 表示**配置项**
- 小括号 `()` 表示**描述说明**
- 各部分**顺序固定，不可调整**
- `[题目设置]`、`(题目描述)` 均可省略



### 三、题型全集定义（DSL 核心）

#### 文本类

文本类题主要用于收集用户的**自由输入内容**

------



**问答**：开放式回答，通常用于主观意见

```diff
请描述您遇到的问题[问答]
```

**单行文本**：短文本输入，如姓名、公司名

```diff
您的姓名[单行文本][必填](请输入真实姓名)
```

**数字文本**：仅允许输入数字

```diff
您的年龄[数字文本][必填]
```

**多行文本**：较长文本输入，如建议、反馈

```diff
您对本次服务的建议[多行文本](可填写您的意见或建议)
```

**富文本**：支持格式化文本（如加粗、换行等）

```diff
补充说明[富文本]
```



#### 选择类

选择类题主要用于从**预设选项或固定交互方式**中进行选择

------

**判断**：是 / 否 类二选一

```diff
是否同意本协议[判断][必填]
- 是
- 否
```

**单选**：从多个选项中选择一个

```diff
您的性别[单选]
- 男
- 女
```

**多选**：从多个选项中选择多个

```diff
您常用的出行方式[多选]
- 地铁
- 公交
- 自驾
```

**下拉单选**：以下拉形式选择一个选项

```diff
请选择所在城市[下拉单选][必填]
- 北京
- 上海
- 广州
```

**下拉多选**：以下拉形式选择多个选项

```diff
请选择感兴趣的功能[下拉多选]
- 实时到站
- 换乘提醒
- 站点设施
```

**选择填空**：在题干指定位置进行选项选择

```diff
您主要通过___出行[选择填空]
- 地铁
- 公交
- 其他
```

**日期时间**：选择日期或日期时间

```diff
请选择预约时间[日期时间][必填]
```

**评分**：按分值区间进行打分（默认 5 分制）

```diff
请为本次服务评分[评分][必填]
```



### 高级类

高级类题型用于支持更复杂的用户输入与交互，涵盖结构化数据、文件上传及特殊采集等场景。

------

**地址**：结构化地址输入，支持省市区及详细地址

```diff
请填写详细地址[地址][必填](支持省市区选择)
```

**身份证**：身份证号码输入，支持格式校验

```diff
请输入身份证号[身份证][必填]
```

**手机号**：手机号输入，支持格式校验

```diff
请输入手机号[手机号][必填]
```

**排序**：对选项进行排序，返回有序列表

```diff
请按喜好排序您的交通工具[排序][必填]
- 地铁
- 公交
- 出租车
- 自驾
```

**附件**：文件上传占位符，支持前端上传控件

```diff
请上传相关文件[附件][必填]
```

**自增表格**：动态行列的结构化数据输入

```diff
请填写人员信息[自增表格][必填]
```

**手写签名**：手写轨迹或电子签名采集

```diff
请签署您的电子签名[手写签名][必填]
```

